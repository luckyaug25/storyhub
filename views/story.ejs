<!DOCTYPE html>
<html>
<head>
    <title><%= story.title %></title>
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap');
      body{
        background: url('https://plus.unsplash.com/premium_photo-1685793803975-2f330a16ee10?q=80&w=870&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D') no-repeat center center;
        color: white;
        background-size: 100% 100%; 
        background-attachment: fixed;
        font-family: "Josefin Sans", sans-serif;
        font-optical-sizing: auto;
      }
      h1{
        align-items: center;
        text-align: center;
        font-size: 20px;
      }
      .content{
        margin: 10px;
        border: 1px solid white;
        padding: 10px;
        text-wrap: wrap;
        backdrop-filter: blur(10px);
        font-family: "Josefin Sans", sans-serif;
            font-optical-sizing: auto;

      }
      .pages{
        text-align: center;
        background-color: green;
        height: 30px;
        border: 2px solid white;
        margin: 10px;
        display: flex;
        justify-content: center;
        align-items: center;

      }
      .pages a{
        margin: 10px;
        text-decoration: none;
        color: white;
        font-family: "Josefin Sans", sans-serif;
            font-optical-sizing: auto;
      }
      .option{
        display: flex;
        justify-content: space-around;
        align-items: center;
        font-family: "Josefin Sans", sans-serif;
            font-optical-sizing: auto;
      }
      .option button{
        margin: 20px;
        height: 40px;
        background: transparent;
        border: 1px solid white;
        color: white;
        font-family: "Josefin Sans", sans-serif;
            font-optical-sizing: auto;
      }
      .option button:hover{
        background-color: green;
        cursor: pointer;
      }
      .option form button:hover{
        background-color: red;
        cursor: pointer;
      }
      @media (max-width: 768px) {
        textarea {
            height: 60vh; /* Reduce height slightly for small screens */
            font-size: 14px; /* Adjust font size */
            padding: 8px; /* Adjust padding */
        }
        .option button{
          margin: 20px;
          height: 40px;
          background: transparent;
          border: 1px solid white;
          color: white;
          font-family: "Josefin Sans", sans-serif;
              font-optical-sizing: auto;
        }
        .pages{
          text-align: center;
          background-color: green;
          height: 30px;
          border: 2px solid white;
          margin: 10px;
          display: flex;
          justify-content: center;
          align-items: center;
  
        }
        .pages a{
          margin: 10px;
          text-decoration: none;
          color: white;
          font-family: "Josefin Sans", sans-serif;
              font-optical-sizing: auto;
        }
    }
    
    @media (max-width: 480px) {
        textarea {
            height: 50vh; /* Further reduce height for very small screens */
            font-size: 12px;
        }
        .option button{
          margin: 20px;
          height: 40px;
          background: transparent;
          border: 1px solid white;
          color: white;
          font-family: "Josefin Sans", sans-serif;
              font-optical-sizing: auto;
        }
        .pages{
          text-align: center;
          background-color: green;
          height: 30px;
          border: 2px solid white;
          margin: 10px;
          display: flex;
          justify-content: center;
          align-items: center;
  
        }
        .pages a{
          margin: 10px;
          text-decoration: none;
          color: white;
          font-family: "Josefin Sans", sans-serif;
              font-optical-sizing: auto;
        }
    }
    </style>
</head>
<body>
  <h1><%= story.title %></h1>

  <div class="content">
    <% paginatedContent.forEach(line => { %>
      <p><%= line %></p>
    <% }); %>
  </div>

  <!-- Pagination Controls -->
  <div class="pages">
    <% if (page > 1) { %>
      <a href="/stories/<%= story.id %>?page=<%= page - 1 %>">⬅️ Previous</a>
    <% } %>

    <% for (let i = 1; i <= totalPages; i++) { %>
      <a href="/stories/<%= story.id %>?page=<%= i %>">
        <%= i %>
      </a>
    <% } %>

    <% if (page < totalPages) { %>
      <a href="/stories/<%= story.id %>?page=<%= page + 1 %>">Next ➡️</a>
    <% } %>
  </div>

  <div class="option">
    <a href="/stories/<%= story.id %>/edit"><button>✏️ Edit Story</button></a>
  <form action="/stories/<%= story.id %>?_method=DELETE" method="POST">
    <button type="submit">❌ Delete Story</button>
  </form>
  </div>
</body>
</html>
